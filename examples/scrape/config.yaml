---
scrape-configs:
  - job-name: testing
    enabled-profiles: [cpu, mem]

    # Optional. Default profile configs (Go):
    profiles:
      cpu:
        path: /debug/pprof/profile
        params:
          seconds: ['10']
        pprof-sample-types:
          samples:
            display-name: cpu
            units: samples
            sampled: true

      mem:
        path: /debug/pprof/heap
        sample-types:
          inuse_objects:
            units: objects
            aggregation: avg
          inuse_space:
            units: bytes
            aggregation: avg
          alloc_objects:
            units: objects
            cumulative: true
          alloc_space:
            units: bytes
            cumulative: true

    static-configs:
      - application: app
        targets:
          - localhost:6060
        labels:
          env: dev
