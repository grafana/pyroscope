version: 2

updates:
  # Go modules - main project components
  - package-ecosystem: "gomod"
    directories:
      - "/"
      - "/api"
      - "/lidia"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 10
    groups:
      gomod:
        patterns:
          - "*"

  # npm/yarn - main project
  - package-ecosystem: "npm"
    directories:
      - "/"
    schedule:
      interval: "weekly"
      day: "monday"
    groups:
      npm:
        patterns:
          - "*"

  # Docker - main project
  - package-ecosystem: "docker"
    directories:
      - "/cmd/pyroscope"
    schedule:
      interval: "weekly"
    groups:
      docker:
        patterns:
          - "*"

  # Dev containers - main project
  - package-ecosystem: "devcontainers"
    directories:
      - "/"
    schedule:
      interval: "weekly"
      day: "monday"
    groups:
      devcontainers:
        patterns:
          - "*"

  # GitHub Actions
  - package-ecosystem: "github-actions"
    directories:
      - "/"
    schedule:
      interval: "weekly"
      day: "monday"
    groups:
      github-actions:
        patterns:
          - "*"

  # Go modules - examples
  - package-ecosystem: "gomod"
    directories:
      - "/examples/golang-pgo"
      - "/examples/language-sdk-instrumentation/golang-push/rideshare-alloy"
      - "/examples/language-sdk-instrumentation/golang-push/rideshare-k6"
      - "/examples/language-sdk-instrumentation/golang-push/rideshare"
      - "/examples/language-sdk-instrumentation/golang-push/simple"
      - "/examples/tracing/golang-push"
    schedule:
      interval: "weekly"
    groups:
      examples-gomod:
        patterns:
          - "*"

  # npm/yarn - examples
  - package-ecosystem: "npm"
    directories:
      - "/examples/language-sdk-instrumentation/nodejs/express-pull"
      - "/examples/language-sdk-instrumentation/nodejs/express-ts-inline"
      - "/examples/language-sdk-instrumentation/nodejs/express-ts"
      - "/examples/language-sdk-instrumentation/nodejs/express"
      - "/examples/language-sdk-instrumentation/nodejs/tinyhttp"
    schedule:
      interval: "weekly"
    groups:
      examples-npm:
        patterns:
          - "*"

  # Python pip - examples
  - package-ecosystem: "pip"
    directories:
      - "/examples/language-sdk-instrumentation/python/rideshare/django/app"
      - "/examples/language-sdk-instrumentation/python/simple"
    schedule:
      interval: "weekly"
    groups:
      examples-pip:
        patterns:
          - "*"

  # Ruby bundler - examples
  - package-ecosystem: "bundler"
    directories:
      - "/examples/tracing/ruby"
      - "/examples/language-sdk-instrumentation/ruby/simple"
      - "/examples/language-sdk-instrumentation/ruby/rideshare"
      - "/examples/language-sdk-instrumentation/ruby/rideshare_rails"
    schedule:
      interval: "weekly"
    groups:
      examples-bundler:
        patterns:
          - "*"

  # Rust cargo - examples
  - package-ecosystem: "cargo"
    directories:
      - "/examples/language-sdk-instrumentation/rust/basic"
      - "/examples/language-sdk-instrumentation/rust/rideshare/server"
    schedule:
      interval: "weekly"
    groups:
      examples-cargo:
        patterns:
          - "*"

  # .NET NuGet - examples
  - package-ecosystem: "nuget"
    directories:
      - "/examples/language-sdk-instrumentation/dotnet/fast-slow"
      - "/examples/language-sdk-instrumentation/dotnet/rideshare"
      - "/examples/language-sdk-instrumentation/dotnet/web-new"
      - "/examples/tracing/dotnet"
    schedule:
      interval: "weekly"
    groups:
      examples-nuget:
        patterns:
          - "*"
